<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ Guardianes del Planeta ğŸŒ±</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600;700&family=Baloo+2:wght@400;700;800&display=swap');

*{margin:0;padding:0;box-sizing:border-box;}

body{
font-family:'Baloo 2',cursive;
background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
overflow-x:hidden;
}

/* ===== Fondo animado ===== */
.stars,.floating-clouds{
position:fixed;width:100%;height:100%;pointer-events:none;
}
.star{
position:absolute;width:3px;height:3px;background:white;border-radius:50%;
animation:twinkle 3s infinite;
}
@keyframes twinkle{0%,100%{opacity:.3;}50%{opacity:1;}}

.cloud{
position:absolute;font-size:4rem;opacity:.3;
animation:float 20s linear infinite;
}
@keyframes float{from{transform:translateX(-100%);}to{transform:translateX(calc(100vw + 100%));}}

.container{max-width:1200px;margin:0 auto;padding:20px;position:relative;z-index:1;}

.header{text-align:center;padding:40px 20px;}
.title{
font-family:'Fredoka',cursive;font-size:4rem;font-weight:800;color:#fff;
text-shadow:4px 4px 0 #ff6b6b,8px 8px 0 #4ecdc4;
animation:bounce 2s infinite;
}
@keyframes bounce{0%,100%{transform:translateY(0);}50%{transform:translateY(-20px);}}

.subtitle{
font-size:2rem;color:#fff;background:rgba(255,255,255,.2);
padding:15px 30px;border-radius:50px;display:inline-block;
}

.earth-emoji{font-size:6rem;animation:rotate 10s linear infinite;}
@keyframes rotate{from{transform:rotate(0);}to{transform:rotate(360deg);}}

/* ===== Score ===== */
.score-board{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
gap:20px;margin:40px 0;
}
.score-card{
border:6px solid #fff;border-radius:30px;padding:30px;
text-align:center;color:#fff;font-weight:bold;
}
.score-number{font-size:3rem;}
.progress-container{
grid-column:1/-1;background:white;padding:20px;border-radius:20px;
}
.progress-bar-bg{
background:#eee;height:20px;border-radius:10px;overflow:hidden;
}
#progress-bar{
height:100%;width:0%;
background:linear-gradient(90deg,#6bcf7f,#4ecdc4);
transition:.5s;
}

/* ===== Misiones ===== */
.missions-container{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
gap:30px;margin:40px 0;
}
.mission-card{
background:white;border-radius:30px;overflow:hidden;
box-shadow:0 15px 40px rgba(0,0,0,.2);
}
.mission-header{padding:25px;text-align:center;color:#2d3436;}
.mission-body{padding:20px;}
.mission-button{
width:100%;padding:15px;border:none;border-radius:20px;
background:#667eea;color:white;font-weight:bold;cursor:pointer;
}
.mission-button.completed{background:#6bcf7f;}
.mission-button:disabled{opacity:.6;cursor:not-allowed;}

/* ===== Medallas ===== */
.badges-section{margin:60px 0;text-align:center;}
.badges-grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(120px,1fr));
gap:20px;margin-top:20px;
}
.badge{
background:white;padding:20px;border-radius:20px;
border:4px solid transparent;opacity:.4;transition:.3s;
}
.badge.active{
opacity:1;border-color:#6bcf7f;
}

.celebration{
position:fixed;top:50%;left:50%;
transform:translate(-50%,-50%);
font-size:8rem;animation:pop 1s ease-out;
}
@keyframes pop{
0%{opacity:0;transform:translate(-50%,-50%) scale(0);}
50%{opacity:1;transform:translate(-50%,-50%) scale(1.2);}
100%{opacity:0;transform:translate(-50%,-50%) scale(1.5);}
}
</style>
</head>

<body>

<div class="stars" id="stars"></div>
<div class="floating-clouds" id="clouds"></div>

<div class="container">

<div class="header">
<div class="earth-emoji">ğŸŒ</div>
<h1 class="title">Â¡Guardianes del Planeta!</h1>
<p class="subtitle">ğŸŒ± MisiÃ³n: Â¡Salvar la Tierra! ğŸŒ±</p>
</div>

<div class="score-board">

<div class="score-card" style="background:#ffd93d;">
<div>Nivel</div>
<div class="score-number" id="level">0</div>
</div>

<div class="score-card" style="background:#4ecdc4;">
<div>Puntos</div>
<div class="score-number" id="points">0</div>
</div>

<div class="score-card" style="background:#ff6b6b;">
<div>Misiones</div>
<div class="score-number"><span id="completed">0</span>/5</div>
</div>

<div class="progress-container">
<div><strong>Progreso al siguiente nivel</strong></div>
<div class="progress-bar-bg">
<div id="progress-bar"></div>
</div>
</div>

</div>

<h2 style="color:white;text-align:center;">ğŸ® Tus Misiones</h2>
<div class="missions-container" id="missions"></div>

<div class="badges-section">
<h2 style="color:white;">ğŸ… Medallas</h2>
<div class="badges-grid" id="badges"></div>

<br>
<button onclick="resetGame()" style="padding:15px 30px;border:none;border-radius:15px;background:#ff6b6b;color:white;cursor:pointer;">
ğŸ”„ Reiniciar Progreso
</button>

</div>

</div>

<script>

/* ===== Fondo estrellas ===== */
const stars=document.getElementById('stars');
for(let i=0;i<50;i++){
let s=document.createElement('div');
s.className='star';
s.style.left=Math.random()*100+'%';
s.style.top=Math.random()*100+'%';
stars.appendChild(s);
}

/* ===== Estado con guardado ===== */
let gameState=JSON.parse(localStorage.getItem("guardianesEstado"))||{
level:0,
points:0,
completedMissions:[]
};

const missions=[
{id:1,emoji:'ğŸ’§',title:'Cuidar el Agua',points:100,description:'Cierra el grifo mientras te cepillas.'},
{id:2,emoji:'â™»ï¸',title:'Reciclar',points:150,description:'Separa papel, plÃ¡stico y vidrio.'},
{id:3,emoji:'ğŸŒ³',title:'Plantar',points:250,description:'Planta una semilla.'},
{id:4,emoji:'ğŸš¶',title:'Caminar',points:350,description:'Camina si es posible.'},
{id:5,emoji:'ğŸ¨',title:'Arte Reciclado',points:500,description:'Crea arte con materiales reciclados.'}
];

const badges=[
'ğŸ’§ GuardiÃ¡n del Agua',
'â™»ï¸ Rey del Reciclaje',
'ğŸŒ³ Amigo del Bosque',
'ğŸš¶ Eco Caminante',
'ğŸ¨ Artista Verde'
];

function saveGame(){
localStorage.setItem("guardianesEstado",JSON.stringify(gameState));
}

function updateScores(){
document.getElementById('level').textContent=gameState.level;
document.getElementById('points').textContent=gameState.points;
document.getElementById('completed').textContent=gameState.completedMissions.length;

let progress=(gameState.points%500)/500*100;
document.getElementById("progress-bar").style.width=progress+"%";

unlockBadges();
}

function completeMission(id){
if(gameState.completedMissions.includes(id))return;

let mission=missions.find(m=>m.id===id);

gameState.completedMissions.push(id);
gameState.points+=mission.points;
gameState.level=Math.floor(gameState.points/500);

showCelebration();
saveGame();
renderMissions();
updateScores();
}

function showCelebration(){
let c=document.createElement('div');
c.className='celebration';
c.textContent='ğŸ‰';
document.body.appendChild(c);
setTimeout(()=>c.remove(),1000);
}

function renderMissions(){
const container=document.getElementById('missions');
container.innerHTML='';

missions.forEach(m=>{
let completed=gameState.completedMissions.includes(m.id);
let locked=m.id>1&&!gameState.completedMissions.includes(m.id-1);

let card=document.createElement('div');
card.className='mission-card';

card.innerHTML=`
<div class="mission-header">${m.emoji} ${m.title}</div>
<div class="mission-body">
<p>${locked?'ğŸ”’ Completa la anterior misiÃ³n.':m.description}</p>
<button class="mission-button ${completed?'completed':''}"
onclick="completeMission(${m.id})"
${completed||locked?'disabled':''}>
${completed?'âœ… Completada':locked?'ğŸ”’ Bloqueada':'ğŸ¯ Completar'}
</button>
</div>
`;

container.appendChild(card);
});
}

function renderBadges(){
const container=document.getElementById('badges');
container.innerHTML='';
badges.forEach(b=>{
let div=document.createElement('div');
div.className='badge';
div.textContent=b;
container.appendChild(div);
});
}

function unlockBadges(){
const all=document.querySelectorAll('.badge');
all.forEach((b,i)=>{
if(gameState.completedMissions.length>i){
b.classList.add('active');
}
});
}

function resetGame(){
localStorage.removeItem("guardianesEstado");
gameState={level:0,points:0,completedMissions:[]};
renderMissions();
updateScores();
}

/* ===== Inicializar ===== */
renderMissions();
renderBadges();
updateScores();

</script>

</body>
</html>
