<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Guardianes del Planeta RED 2.0</title>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<style>
body{
    font-family:Segoe UI;
    background:linear-gradient(135deg,#0a3f0a,#1b5e20);
    margin:0;
    padding:20px;
    color:white;
}

.container{
    max-width:1200px;
    margin:auto;
    background:white;
    color:#1b5e20;
    padding:30px;
    border-radius:30px;
}

h1,h2{ text-align:center; }

button{
    padding:12px 25px;
    border:none;
    border-radius:25px;
    cursor:pointer;
    margin:5px;
    font-weight:bold;
}

.primary{ background:#4caf50; color:white; }
.secondary{ background:#ff9800; color:white; }
.danger{ background:#b71c1c; color:white; }

.card{
    background:#f1f8e9;
    padding:20px;
    border-radius:20px;
    margin:15px 0;
}

.mission{
    background:white;
    padding:15px;
    border-radius:15px;
    margin:10px 0;
    cursor:pointer;
    border:3px solid #4caf50;
}

.progress-bar{
    height:20px;
    background:#ddd;
    border-radius:20px;
    overflow:hidden;
}

.progress-fill{
    height:100%;
    background:#4caf50;
    width:0%;
}

.stats{
    display:flex;
    justify-content:space-around;
    margin-bottom:20px;
}

</style>
</head>

<body>

<div class="container">

<h1>ğŸŒ GUARDIANES DEL PLANETA</h1>
<p style="text-align:center;">âœ¨ MisiÃ³n Tierra Verde âœ¨</p>

<!-- ARQUITECTURA DEL JUEGO -->
<div class="card">
<h2>ğŸ® Arquitectura del Juego (Modelo MDA)</h2>
<p><strong>MecÃ¡nicas:</strong> Misiones, puntos, niveles, retos sorpresa, decisiones.</p>
<p><strong>DinÃ¡micas:</strong> Progreso, identidad heroica, responsabilidad ecolÃ³gica.</p>
<p><strong>EstÃ©tica:</strong> SensaciÃ³n de logro, pertenencia y superaciÃ³n.</p>
</div>

<!-- ESTADÃSTICAS -->
<div class="stats">
<div>â­ Nivel: <span id="level">1</span></div>
<div>ğŸ† Puntos: <span id="points">0</span></div>
<div>ğŸ¯ Misiones: <span id="missionsCount">0/5</span></div>
</div>

<div class="progress-bar">
<div class="progress-fill" id="progressFill"></div>
</div>

<!-- BOTONES DINÃMICOS -->
<div style="text-align:center;margin-top:15px;">
<button class="secondary" onclick="dailyChallenge()">ğŸ² Reto del DÃ­a</button>
<button class="primary" onclick="moralDecision()">âš–ï¸ DecisiÃ³n EcolÃ³gica</button>
<button class="danger" onclick="resetGame()">ğŸ”„ Reiniciar</button>
</div>

<!-- MISIONES -->
<div class="card">
<h2>ğŸ—ºï¸ Misiones</h2>

<div class="mission" onclick="completeMission(1)">
ğŸ’§ Cuidar el Agua (+100)
</div>

<div class="mission" onclick="completeMission(2)">
â™»ï¸ Reciclar (+150)
</div>

<div class="mission" onclick="completeMission(3)">
ğŸŒ± Plantar (+250)
</div>

<div class="mission" onclick="completeMission(4)">
ğŸš¶ Caminar (+350)
</div>

<div class="mission" onclick="completeMission(5)">
ğŸ¨ Arte Reciclado (+500)
</div>

</div>

<!-- INTEGRACIÃ“N RED -->
<div class="card">
<h2>ğŸŒ IntegraciÃ³n del RED</h2>
<p><strong>Â¿QuÃ© permite hacer?</strong> Simular acciones ecolÃ³gicas mediante interacciÃ³n digital.</p>
<p><strong>Â¿CÃ³mo se integra?</strong> Cada misiÃ³n activa dinÃ¡micas interactivas y retroalimentaciÃ³n inmediata.</p>
<p><strong>Â¿QuÃ© aporta?</strong> Aprendizaje activo, motivaciÃ³n y visualizaciÃ³n del progreso.</p>
</div>

<!-- JUSTIFICACIÃ“N -->
<div class="card">
<h2>ğŸ“š JustificaciÃ³n PedagÃ³gica</h2>
<p><strong>Gee (2004):</strong> Identidad proyectiva al asumir rol de GuardiÃ¡n.</p>
<p><strong>Kapp (2012):</strong> Sistema de puntos y feedback inmediato.</p>
<p><strong>Deci & Ryan:</strong> Competencia, autonomÃ­a y relaciÃ³n.</p>
<p><strong>Chamorro (2018):</strong> Desarrollo de hÃ¡bitos ecolÃ³gicos desde la acciÃ³n.</p>
</div>

</div>

<script>

let gameState = JSON.parse(localStorage.getItem("guardianRED2")) || {
    level:1,
    points:0,
    completed:[]
};

function saveGame(){
    localStorage.setItem("guardianRED2",JSON.stringify(gameState));
}

function updateUI(){
    document.getElementById("level").innerText=gameState.level;
    document.getElementById("points").innerText=gameState.points;
    document.getElementById("missionsCount").innerText=gameState.completed.length+"/5";
    
    let percent=(gameState.completed.length/5)*100;
    document.getElementById("progressFill").style.width=percent+"%";
}

function completeMission(id){
    if(gameState.completed.includes(id)){
        Swal.fire("Ya completaste esta misiÃ³n");
        return;
    }

    let pointsMap={1:100,2:150,3:250,4:350,5:500};
    gameState.points+=pointsMap[id];
    gameState.completed.push(id);

    if(gameState.completed.length>=4) gameState.level=3;
    else if(gameState.completed.length>=2) gameState.level=2;

    saveGame();
    updateUI();

    Swal.fire("ğŸ‰ MisiÃ³n completada","Ganaste puntos ecolÃ³gicos","success");
}

function dailyChallenge(){
    const challenges=[
        "ğŸŒ Ahorra 5 litros de agua hoy",
        "â™»ï¸ Recicla algo en casa",
        "ğŸš¶ Camina 10 minutos",
        "ğŸŒ± Planta algo pequeÃ±o"
    ];

    let random=challenges[Math.floor(Math.random()*challenges.length)];

    Swal.fire("ğŸ² Reto del DÃ­a",random,"info");
}

function moralDecision(){
    Swal.fire({
        title:"ğŸš° Dejaste el grifo abierto",
        text:"Â¿QuÃ© haces?",
        showDenyButton:true,
        confirmButtonText:"Lo cierro",
        denyButtonText:"Lo dejo asÃ­"
    }).then((result)=>{
        if(result.isConfirmed){
            gameState.points+=20;
            Swal.fire("Excelente decisiÃ³n ğŸ’§");
        }else{
            gameState.points-=10;
            Swal.fire("El planeta perdiÃ³ agua ğŸ˜”");
        }
        saveGame();
        updateUI();
    });
}

function resetGame(){
    localStorage.removeItem("guardianRED2");
    location.reload();
}

updateUI();

</script>

</body>
</html>
